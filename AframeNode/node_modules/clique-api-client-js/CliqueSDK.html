<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>Clique Client JS SDK</title>
<link rel="stylesheet" href="./riak2.css">
<link rel="stylesheet" href="./pygments-friendly.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.8.1/js/perfect-scrollbar.jquery.min.js"></script>
<script>
    $(document).ready(function() {
        $('#toc').perfectScrollbar({
            maxScrollbarLength: 160
        });
    });
</script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Clique Client JS SDK</h1>
<div id="toc" class="toc2">
<div id="toctitle">Clique Client JS SDK</div>
<ul class="sectlevel1">
<li><a href="#_developer_overview">Developer Overview</a>
<ul class="sectlevel2">
<li><a href="#_client">Client</a></li>
<li><a href="#_application_server">Application Server</a></li>
<li><a href="#_api_key_session_token">API Key &amp; Session Token</a></li>
<li><a href="#_step_by_step">Step-by-step</a></li>
</ul>
</li>
<li><a href="#_installing">Installing</a></li>
<li><a href="#_setting_up">Setting Up</a></li>
<li><a href="#_using_cliqueclient">Using CliqueClient</a>
<ul class="sectlevel2">
<li><a href="#_create_instance">Create instance</a>
<ul class="sectlevel3">
<li><a href="#_contructor_parameters">Contructor parameters</a></li>
</ul>
</li>
<li><a href="#_data_types">Data types</a></li>
<li><a href="#_instance_methods">Instance methods</a>
<ul class="sectlevel3">
<li><a href="#_conference_methods">Conference methods</a>
<ul class="sectlevel4">
<li><a href="#_create_options">create(options)</a></li>
<li><a href="#_join_id">join(id)</a></li>
<li><a href="#_leave">leave()</a></li>
<li><a href="#_localmute">localMute()</a></li>
<li><a href="#_localunmute">localUnmute()</a></li>
<li><a href="#_ismuted">isMuted()</a></li>
<li><a href="#_localvolume_volume">localVolume([volume])</a></li>
<li><a href="#_usermute_uuid_moderator_only">userMute(uuid) - Moderator only</a></li>
<li><a href="#_userunmute_uuid_moderator_only">userUnmute(uuid) - Moderator only</a></li>
<li><a href="#_userkick_uuid_moderator_only">userKick(uuid) - Moderator only</a></li>
<li><a href="#_recordingstart_options_moderator_only">recordingStart(options) - Moderator only</a></li>
<li><a href="#_recordingstop_moderator_only">recordingStop() - Moderator only</a></li>
<li><a href="#_getrecordingbyid_recordingid">getRecordingById(recordingId)</a></li>
<li><a href="#_lock_moderator_only">lock() - Moderator only</a></li>
<li><a href="#_unlock_moderator_only">unlock() - Moderator only</a></li>
<li><a href="#_setgrace_period_moderator_only">setGrace(period) - Moderator only</a></li>
<li><a href="#_id">id()</a></li>
<li><a href="#_on_event_name_event_callback">on(event_name, event_callback)</a></li>
<li><a href="#_off_event_name">off(event_name)</a></li>
<li><a href="#_users">users()</a></li>
<li><a href="#_invite_contacts_options">invite(contacts, options)</a></li>
<li><a href="#_screensharestart">screenShareStart()</a></li>
<li><a href="#_screensharestop">screenShareStop()</a></li>
<li><a href="#_screenshareviewstart_uuid_domelement">screenShareViewStart(uuid, domElement)</a></li>
<li><a href="#_screenshareviewstop_uuid">screenShareViewStop(uuid)</a></li>
</ul>
</li>
<li><a href="#_simplecall_methods">SimpleCall methods</a>
<ul class="sectlevel4">
<li><a href="#_dial_number_options">dial(number, [options])</a></li>
<li><a href="#_hangup">hangup()</a></li>
</ul>
</li>
<li><a href="#_user_methods">User methods</a>
<ul class="sectlevel4">
<li><a href="#_updateconferencesettings_options">updateConferenceSettings(options)</a></li>
<li><a href="#_getconferencesettings">getConferenceSettings()</a></li>
</ul>
</li>
<li><a href="#_chat_methods">Chat methods</a>
<ul class="sectlevel4">
<li><a href="#_create_options_2">create([options])</a></li>
<li><a href="#_join_chat_id">join(chat_id)</a></li>
<li><a href="#_leave_chat_id">leave(chat_id)</a></li>
<li><a href="#_send_chat_id_message">send(chat_id, message)</a></li>
<li><a href="#_fetchmessagehistory_chat_id_options">fetchMessageHistory(chat_id, [options])</a></li>
<li><a href="#_markmessagesasread_chat_id">markMessagesAsRead(chat_id)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_event_handling">Event handling</a>
<ul class="sectlevel3">
<li><a href="#_conference_events">Conference events</a></li>
<li><a href="#_simplecall_events">SimpleCall events</a></li>
<li><a href="#_chat_events">Chat events</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tutorial">Tutorial</a>
<ul class="sectlevel2">
<li><a href="#Conference-tutorial">Quickstart Conference</a></li>
<li><a href="#SimpleCall-tutorial">Quickstart SimpleCall</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_developer_overview">Developer Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clique Client JS SDK ("The SDK") provides high-level tools for enterprise
web developers to enhance their existing or build new web apps equipped with high definition, secure voice
communications capabilities. Just some basic knowledge of javascript and
web development practices is required to take advantage of this technology.</p>
</div>
<div class="paragraph">
<p>Customer applications built with the Clique platform require two primary components:</p>
</div>
<div class="sect2">
<h3 id="_client">Client</h3>
<div class="paragraph">
<p>The browser or client  handles client-side code that runs in a browser or mobile app, set up by the developer using the client-side libraries, which are available for Web, iOS and  Android.</p>
</div>
<div class="paragraph">
<p>The client is responsible for all end-user user interface functionality.  It interacts with the browser to access the userâ€™s microphone and speakers, and provides the user interface to create, manage, and participate in a voice conference.</p>
</div>
</div>
<div class="sect2">
<h3 id="_application_server">Application Server</h3>
<div class="paragraph">
<p>The application server handles server-side code executed on a web server and set up by the developer using Node.js. Other server SDK possibilities are PHP, Java, .NET, Python, and Ruby.</p>
</div>
<div class="paragraph">
<p>Owned by the customer, the application server is responsible for the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Serving the client to the browser</p>
</li>
<li>
<p>Acting as a command relay between the client and the Clique platform</p>
</li>
<li>
<p>Augmenting the Clique platform with additional features like user management, access controls, interface with organizations user policies, etc.</p>
</li>
<li>
<p>Creating new sessions by providing a secure &amp; secret API Key and generating unique authentication tokens for each new client. The client then uses that token to establish a connection to the Clique platform.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To better understand how the SDK might fit into your existing web application architecture,
please review the following SDK flow diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diagrams/sdk-flow.png" alt="Sunset" width="800" height="600">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_api_key_session_token">API Key &amp; Session Token</h3>
<div class="paragraph">
<p>To start working with the SDK you will need an API key along with the Clique service BASE URL
which will be provided to you by the Clique Support team. The API key is used on your server side to authenticate requests to Clique service endpoints.
<strong><em>You should keep the API key secret.</em></strong> It is possible to create a serverless app by embedding the API key
into the client code. However, this method can only be used for a personal, limited time SDK evaluation and is not recommended for any
real apps as it exposes the API key to end users potentially compromising security.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_by_step">Step-by-step</h3>
<div class="paragraph">
<p>Once the API_KEY and BASE URL are obtained, you will then proceed with the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On your server side, you will need to add 2 RESTful APIs:</p>
<div class="ulist">
<ul>
<li>
<p>A call to send the API key to the Clique Service endpoint and get a user object back.  Normally,
this will need to be done once while registering a new end user. It may look like this:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">fetchData</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
    <span class="tok-nx">method</span><span class="tok-o">:</span> <span class="tok-s1">&#39;POST&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">headers</span><span class="tok-o">:</span> <span class="tok-k">new</span> <span class="tok-nx">Headers</span><span class="tok-p">({</span>
        <span class="tok-nx">Authorization</span><span class="tok-o">:</span> <span class="tok-s1">&#39;Bearer &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">API_KEY</span><span class="tok-p">,</span>
    <span class="tok-p">}),</span>
    <span class="tok-nx">mode</span><span class="tok-o">:</span> <span class="tok-s1">&#39;cors&#39;</span>
<span class="tok-p">};</span>
<span class="tok-kr">const</span> <span class="tok-nx">data</span>    <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">fetch</span><span class="tok-p">(</span><span class="tok-nx">BASE_URL</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;/api/v2/users&#39;</span><span class="tok-p">,</span> <span class="tok-nx">fetchData</span><span class="tok-p">);</span>
<span class="tok-kr">const</span> <span class="tok-nx">userRes</span> <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">json</span><span class="tok-p">();</span>
<span class="tok-kr">const</span> <span class="tok-nx">user</span>    <span class="tok-o">=</span> <span class="tok-nx">userRes</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The user object returned by the Clique service will include the user UUID and a session token that would expire in 24 hours. The session token
can then be passed from your server side to your client application which will now be able to use that token to authenticate all its requests to
the Clique service endpoints via the SDK</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The second RESTfull API call to the Clique service endpoint from your server is necessary to request a new session token after the existing token has expired.  The SDK token renewal flow is shown on the following diagram:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="diagrams/session-token-flow.png" alt="Sunset" width="800" height="600">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Provide a RESTful API endpoint on your server side to allow your client app to request a Clique session token from your server. As shown on the above diagrams,
this API endpoint will be used during the initial user registration with your service, as well as after the Clique token expiration.</p>
</li>
<li>
<p>Include the SDK JS module into your web client application. The SDK can be installed using the npm package manager. See installation instructions below.</p>
</li>
<li>
<p>Implement the client app code to request the session token from your server via the RESTful API you added in step 2.</p>
</li>
<li>
<p>Implement the client app code to create an instance of Clique Conference API object. It may look like this:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">clientConference</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">Conference</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-nx">BASE_URL</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">token</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add required conference event handlers. See conference tutorial below. An event handler triggered when someone joined the conference may look like this:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;add-member&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">members</span><span class="tok-p">[</span><span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">;</span>
    <span class="tok-nx">show_members</span><span class="tok-p">();</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;add-member&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Now you are ready to implement your required conferencing features by using the corresponding methods provided by the SDK.  For instance,
to create a new conference you may use code similar to this:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;createConference&#39;</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
        <span class="tok-nx">conference</span> <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">();</span>
    <span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more code examples, please see the tutorial section below.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing">Installing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clique Client JS SDK is available via npm</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh">$ npm install clique-api-client-js</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up">Setting Up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using with webpack</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">import</span> <span class="tok-nx">CliqueClient</span> <span class="tok-nx">from</span> <span class="tok-s2">&quot;clique-api-client-js&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the pre-built version (client.build.js), jQuery is required</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://dev.cliqueapi.com/lib/client.build.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_cliqueclient">Using CliqueClient</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_create_instance">Create instance</h3>
<div class="paragraph">
<p>CliqueClient provides three child objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CliqueClient.Conference&#8201;&#8212;&#8201;Multi-Party Conferencing including call recording, invitations to SMS, email and phone calls to PSTN phones and SIP UIRs and much more</p>
</li>
<li>
<p>CliqueClient.SimpleCall&#8201;&#8212;&#8201;Regular calls to phone numbers over PSTN or SIP/VoIP calls to SIP URIs</p>
</li>
<li>
<p>CliqueClient.User&#8201;&#8212;&#8201;Setting and getting user information</p>
</li>
<li>
<p>CliqueClient.Chat&#8201;&#8212;&#8201;Basic public chat handler</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_contructor_parameters">Contructor parameters</h4>
<div class="paragraph">
<p>Both underscore and CamelCase variants works.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>base_url (baseURL)&#8201;&#8212;&#8201;base URL provided by Clique</p>
</li>
<li>
<p>session_token (sessionToken)&#8201;&#8212;&#8201;session token to authenticate instance</p>
</li>
<li>
<p>ice_servers (iceServers)&#8201;&#8212;&#8201;iceServers is an array of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceServer">RTCIceServer</a> <em>Optional</em></p>
</li>
<li>
<p>debug (Debug)&#8201;&#8212;&#8201;true or false to switch debug output on and off <em>Optional</em></p>
</li>
<li>
<p>music_on_hold_url (musicOnHoldUrl)&#8201;&#8212;&#8201;music on hold URL (the melody playing while the participant is waiting for the other one) <em>Optional</em></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">clientConference</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">Conference</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-s1">&#39;&lt;base_url_provided_by_clique&gt;&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-s1">&#39;&lt;session_token&gt;&#39;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">clientCall</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">SimpleCall</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-s1">&#39;&lt;base_url_provided_by_clique&gt;&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-s1">&#39;&lt;session_token&gt;&#39;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">userClient</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">User</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-s1">&#39;&lt;base_url_provided_by_clique&gt;&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-s1">&#39;&lt;session_token&gt;&#39;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">chatClient</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">Chat</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-s1">&#39;&lt;base_url_provided_by_clique&gt;&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-s1">&#39;&lt;session_token&gt;&#39;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_types">Data types</h3>
<div class="paragraph">
<p><a id="conference"></a> <strong>conference</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique conference identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The conference start date and time in the ISO 8601 format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#conference-settings">[conference-settings]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether the conference is locked or not</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">creator_uuid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique user identifier (UUID) of the conference creator (in most cases this is the moderatorâ€™s UUID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">phone_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A dial-in phone number assigned to the conference (if any)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="user"></a> <strong>user</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uuid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique user identifier (uuid)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporary access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#user-settings">[user-settings]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">meta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#user-meta">[user-meta]</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="user-settings"></a> <strong>user-settings</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wait_for_moderator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, by default (unless overwritten for a specific conference), all conferences where this user is the moderator will be started only when she/he joins, other participants who tried to join earlier will wait on hold. As of this document creation date, the conference creator is the only moderator allowed. This can change in the future releases where the moderator role can be assigned to multiple users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assign_phone_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, by default, a random dial-in phone number will be assigned to every conference created by this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">e1_joins_muted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, by default, participants will join any conference created by this user muted, they&#8217;ll be able to unmute themselves at any time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">join_in_watch_mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, by default, participants will join any conference created by this user in Watch mode without being connected to the conference audio channel, can see who joined the conference already and connect any time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">music_on_hold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, by default music on hold will be played to a single participant or to all participants waiting for the moderator to join the conference</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">record_all_conferences</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, by default all conferences where this user is the moderator will have the call recording started automatically once the first participant has joined the conference</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="conference-settings"></a> <strong>conference-settings</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wait_for_moderator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, this conference will be started only when the user who is the conference moderator joins it, other participants who tried to join earlier will wait on hold (Default is false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assign_phone_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, a random dial-in phone number will be assigned to this conference (Default is false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">e1_joins_muted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, participants will join this conference muted, can unmute themselves at any time (Default is false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">join_in_watch_mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, participants will join in Watch mode without being connected to the conference audio channel, can see who joined the conference already and connect any time (Default is false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">music_on_hold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, music on hold will be played to a single participant in the conference or to all participants waiting for the moderator to join the conference (Default is true)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">record_all_conferences</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, the conference recording will start automatically once the first participant has joined that conference (Default is false)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="user-meta"></a> <strong>user-meta</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">is_moderator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If True, current user is moderator</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_instance_methods">Instance methods</h3>
<div class="sect3">
<h4 id="_conference_methods">Conference methods</h4>
<div class="paragraph">
<p><a href="#Conference-tutorial">Quickstart Conference</a></p>
</div>
<div class="sect4">
<h5 id="_create_options">create(options)</h5>
<div class="paragraph">
<p>Create and join a new conference and optionally update the conference settings.  You can request any combination of conference settings as a default (different from the system default below ) for your API KEY which will be used if you do not supply any specific conference settings as a parameter with this method. The system defaults are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>wait_for_moderator - true,</p>
</li>
<li>
<p>e1_joins_muted - false,</p>
</li>
<li>
<p>join_in_watch_mode - false,</p>
</li>
<li>
<p>music_on_hold - true,</p>
</li>
<li>
<p>assign_phone_number - false,</p>
</li>
<li>
<p>record_all_conferences - false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>options: <code>Object</code>  <em>Optional</em></p>
</div>
<div class="paragraph">
<p>options.conference_settings: <code>Object</code> <em>Optional</em></p>
</div>
<div class="paragraph">
<p>options.p2p: <code>boolean</code> <em>Optional</em> - If true, the conference will be created as a peer-to-peer conference</p>
</div>
<div class="paragraph">
<p>options.whitelist: <code>Array</code> of <code>String</code> values represents users' UUIDs to be allowed to join the conference. Everyone will be allowed if ommited. <em>Optional</em></p>
</div>
<div class="paragraph">
<p>Available conference settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>wait_for_moderator <em>Optional</em> - If True, all wait on hold until the conference moderator joins</p>
</li>
<li>
<p>e1_joins_muted <em>Optional</em> -  If true, all join muted, can unmute themselves at any time</p>
</li>
<li>
<p>join_in_watch_mode <em>Optional</em> - If true, all join in Watch mode, can see who joined the conference already and join any time</p>
</li>
<li>
<p>music_on_hold <em>Optional</em> - If true, music on hold is played</p>
</li>
<li>
<p>assign_phone_number <em>Optional</em> - If true, a random, US locall number will be assigned to dial into the conferences</p>
</li>
<li>
<p>record_all_conferences <em>Optional</em> - If true, the conference recording will start once the first participant has joined</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code> will create <a href="#conference">[conference]</a> <code>Object</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span>
    <span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">({</span>
        <span class="tok-nx">conference_settings</span><span class="tok-o">:</span> <span class="tok-p">{</span>
            <span class="tok-nx">wait_for_moderator</span><span class="tok-o">:</span>     <span class="tok-kc">true</span><span class="tok-p">,</span>
            <span class="tok-nx">e1_joins_muted</span><span class="tok-o">:</span>         <span class="tok-kc">false</span><span class="tok-p">,</span>
            <span class="tok-nx">join_in_watch_mode</span><span class="tok-o">:</span>     <span class="tok-kc">false</span><span class="tok-p">,</span>
            <span class="tok-nx">music_on_hold</span><span class="tok-o">:</span>          <span class="tok-kc">true</span><span class="tok-p">,</span>
            <span class="tok-nx">assign_phone_number</span><span class="tok-o">:</span>    <span class="tok-kc">false</span><span class="tok-p">,</span>
            <span class="tok-nx">record_all_conferences</span><span class="tok-o">:</span> <span class="tok-kc">false</span><span class="tok-p">,</span>
        <span class="tok-p">}</span>
    <span class="tok-p">})</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">conference</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">conference</span><span class="tok-p">);</span>
            <span class="tok-c1">// You can grab some useful data here</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">conference</span><span class="tok-p">.</span><span class="tok-nx">phone_number</span><span class="tok-p">);</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occurred</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_join_id">join(id)</h5>
<div class="paragraph">
<p>Join a conference with a given conference id. This method usually is passed the conference Id received from some other client who created the conference</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>conference_id: <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code> will create <a href="#conference">[conference]</a> <code>Object</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span>
    <span class="tok-p">.</span><span class="tok-nx">join</span><span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">conference</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// OK</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occured</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_leave">leave()</h5>
<div class="paragraph">
<p>Close the user connection to the current conference</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">leave</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_localmute">localMute()</h5>
<div class="paragraph">
<p>Mutes the user&#8217;s microphone and sets the muted state of the microphone to true</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localMute</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_localunmute">localUnmute()</h5>
<div class="paragraph">
<p>Unmutes the user&#8217;s microphone and sets the muted state of the microphone to false</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localUnmute</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ismuted">isMuted()</h5>
<div class="paragraph">
<p>Returns the state of user&#8217;s microphone. If muted, returns true, otherwise returns false</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>boolean</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">isMuted</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_localvolume_volume">localVolume([volume])</h5>
<div class="paragraph">
<p>Sets or gets the local volume level (from 0 to 100)</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>volume: <code>Integer</code> <em>Optional</em></p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p>current <code>Integer</code> level if the volume parameter is omitted</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">currentLevel</span> <span class="tok-o">=</span> <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localVolume</span><span class="tok-p">();</span>
<span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localVolume</span><span class="tok-p">(</span><span class="tok-nx">currentLevel</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_usermute_uuid_moderator_only">userMute(uuid) - Moderator only</h5>
<div class="paragraph">
<p>Mute the user with a given id for all conference participants; available for the conference moderator only. The user can still unmute herself/himself after the moderator mute</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>uuid: <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">userMute</span><span class="tok-p">(</span><span class="tok-nx">uuid</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_userunmute_uuid_moderator_only">userUnmute(uuid) - Moderator only</h5>
<div class="paragraph">
<p>Unmute the user with a given id for all conference participants; available for the conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>uuid: <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">userUnmute</span><span class="tok-p">(</span><span class="tok-nx">uuid</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_userkick_uuid_moderator_only">userKick(uuid) - Moderator only</h5>
<div class="paragraph">
<p>Kick the user with a given id out of the conference; available for the conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>uuid: <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">userKick</span><span class="tok-p">(</span><span class="tok-nx">uuid</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_recordingstart_options_moderator_only">recordingStart(options) - Moderator only</h5>
<div class="ulist">
<ul>
<li>
<p><strong>_NOTE: It can be used just for basic conference</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Start recording the current conference call; available for the conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Parameters</em>
options: <code>Object</code></p>
</div>
<div class="paragraph">
<p>Available options:
- callback_url <em>Optional</em> - webhook URL, it will be hit when the recording is completed. There will be several attempts to deliver the recording URL via http POST request to that URL</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">recordingStart</span><span class="tok-p">({</span>
    <span class="tok-nx">callback_url</span><span class="tok-o">:</span> <span class="tok-s1">&#39;https://mydomain/route&#39;</span>
<span class="tok-p">});</span>

<span class="tok-c1">// here is how the recording callback will be invoked</span>
<span class="tok-c1">// curl -H &quot;Content-Type: application/json&quot; -X POST -d &#39;{&quot;status&quot;: &quot;completed&quot;, &quot;url&quot;: &quot;https://public-link-to-your-recording-with-1hour-expiration-lifetime&quot;}&#39; https://mydomain/route</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_recordingstop_moderator_only">recordingStop() - Moderator only</h5>
<div class="ulist">
<ul>
<li>
<p><strong>_NOTE: It can be used just for basic conference</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Stop recording; available for the conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">recordingStop</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_getrecordingbyid_recordingid">getRecordingById(recordingId)</h5>
<div class="ulist">
<ul>
<li>
<p><strong>_NOTE: It can be used just for basic conference</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Get recording by recording id</p>
</div>
<div class="paragraph">
<p><em>Parameters</em>
recordingId <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Returns</em>
<code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">getRecordingById</span><span class="tok-p">(</span><span class="tok-s1">&#39;136ba3c6-09ba-11e8-9a46-433c2a35cae6&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_lock_moderator_only">lock() - Moderator only</h5>
<div class="paragraph">
<p>Lock the current conference (no new users can join); available for the conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">lock</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_unlock_moderator_only">unlock() - Moderator only</h5>
<div class="paragraph">
<p>Unlock the current conference (allow new users to join); available for conference moderator only</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">unlock</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_setgrace_period_moderator_only">setGrace(period) - Moderator only</h5>
<div class="ulist">
<ul>
<li>
<p><strong>_NOTE: It can be used just for basic conference</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Set a grace period for the conference ending. This call will only work for the conference moderator. Period is a time delay in seconds after the moderator leaves before the conference will be destroyed. The default is 5 seconds.
If period = 0, the conference will not be destroyed after the moderator leaves. This function is useful in several use cases, e.g., when the moderator walks out from the wifi network area, her smart phone is then disconnected from the wifi network and quickly re-connected to the cellular data network without destroying the conference.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">setgrace</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_id">id()</h5>
<div class="paragraph">
<p>Return the current conference id</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">id</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_on_event_name_event_callback">on(event_name, event_callback)</h5>
<div class="paragraph">
<p>Set a callback handler for a given conference event</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_handling">event_name</a>: <code>String</code></p>
</li>
<li>
<p>event_callback: <code>function</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;start-talking&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-c1">// Do something when the user with id = event.uuid starts talking</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_off_event_name">off(event_name)</h5>
<div class="paragraph">
<p>Discard the handler for a given conference event</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">off</span><span class="tok-p">(</span><span class="tok-s1">&#39;start-talking&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_users">users()</h5>
<div class="paragraph">
<p>Return the list of user objects by uuid representing users who are currently in the conference</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Object</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">users</span><span class="tok-p">()</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kr">const</span> <span class="tok-nx">uuid</span> <span class="tok-k">in</span> <span class="tok-nx">data</span><span class="tok-p">){</span>
                <span class="tok-kr">const</span> <span class="tok-nx">user</span> <span class="tok-o">=</span> <span class="tok-nx">data</span><span class="tok-p">[</span><span class="tok-nx">uuid</span><span class="tok-p">];</span>
                <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">user</span><span class="tok-p">);</span>
            <span class="tok-p">}</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occured</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_invite_contacts_options">invite(contacts, options)</h5>
<div class="paragraph">
<p>Sends one or several active conference invitations simultaneously to contacts via sms, email or phone call(s) to PSTN phones or SIP endpoints.
A conference link and an optional dial-in phone number would be sent over SMS and email.</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>contacts <code>Array</code>
options: <code>Object</code></p>
</div>
<div class="paragraph">
<p>Contacts format:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>type - type on invite - ( <code>sms</code> | <code>email</code> | <code>call</code> )</p>
</li>
<li>
<p>contact - the invite destination address. An email address, a phone number or a SIP URI can be used as a value for this object property. Use a full international phone number format ( E.164 ) including a +(plus) sign, country calling code, local area code and local phone number. For example, a US based number (617) 345-6789 will need to be entered as +16173456789.  Use the following format for SIP URI:  sip:name@domain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>conference_url - conference url, which will be provided to your contacts; you are responsible for creating this url based on your desired domain name</p>
</li>
<li>
<p>sender_name <em>Optional</em> - the name of a person who sends the invitation</p>
</li>
<li>
<p>sender_email <em>Optional</em> - the email address of a person who sends the invitation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code> will create an <code>Array</code> of failures happened during the invitation process</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">invite</span><span class="tok-p">([</span>
        <span class="tok-p">{</span> <span class="tok-nx">type</span><span class="tok-o">:</span> <span class="tok-s1">&#39;sms&#39;</span><span class="tok-p">,</span>   <span class="tok-nx">contact</span><span class="tok-o">:</span> <span class="tok-s1">&#39;+1234567890&#39;</span> <span class="tok-p">},</span>
        <span class="tok-p">{</span> <span class="tok-nx">type</span><span class="tok-o">:</span> <span class="tok-s1">&#39;call&#39;</span><span class="tok-p">,</span>  <span class="tok-nx">contact</span><span class="tok-o">:</span> <span class="tok-s1">&#39;+1234567890&#39;</span> <span class="tok-p">},</span>
        <span class="tok-p">{</span> <span class="tok-nx">type</span><span class="tok-o">:</span> <span class="tok-s1">&#39;call&#39;</span><span class="tok-p">,</span>  <span class="tok-nx">contact</span><span class="tok-o">:</span> <span class="tok-s1">&#39;sip:name@yourdomain.com&#39;</span> <span class="tok-p">},</span>
        <span class="tok-p">{</span> <span class="tok-nx">type</span><span class="tok-o">:</span> <span class="tok-s1">&#39;email&#39;</span><span class="tok-p">,</span> <span class="tok-nx">contact</span><span class="tok-o">:</span> <span class="tok-s1">&#39;dummy@example.com&#39;</span> <span class="tok-p">}</span>
    <span class="tok-p">],</span> <span class="tok-p">{</span>
        <span class="tok-nx">sender_name</span><span class="tok-o">:</span>    <span class="tok-s1">&#39;John Smith&#39;</span><span class="tok-p">,</span>
        <span class="tok-nx">conference_url</span><span class="tok-o">:</span> <span class="tok-s1">&#39;https://example.com/conference/conference_id&#39;</span>
    <span class="tok-p">})</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;failures&#39;</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">);</span>
        <span class="tok-p">},</span>
        <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occured</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_screensharestart">screenShareStart()</h5>
<div class="paragraph">
<p>Starts screen sharing session. Only one active session possible.</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">screenShareStart</span><span class="tok-p">()</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// Screen shared</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// Error occured</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_screensharestop">screenShareStop()</h5>
<div class="paragraph">
<p>Stops screen sharing session.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">screenShareStop</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_screenshareviewstart_uuid_domelement">screenShareViewStart(uuid, domElement)</h5>
<div class="paragraph">
<p>View screen shared by user with <code>uuid</code> using <code>domElement</code> video tag.</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>uuid <code>String</code>
domElement <code>domElement</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">screenShareViewStart</span><span class="tok-p">(</span><span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">,</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">getElementById</span><span class="tok-p">(</span><span class="tok-s1">&#39;video_element&#39;</span><span class="tok-p">));</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_screenshareviewstop_uuid">screenShareViewStop(uuid)</h5>
<div class="paragraph">
<p>Stop viewing the shared screen by user with <code>uuid</code>.</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>uuid <code>String</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">screenShareViewStop</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_simplecall_methods">SimpleCall methods</h4>
<div class="paragraph">
<p><a href="#SimpleCall-tutorial">Quickstart SimpleCall</a></p>
</div>
<div class="sect4">
<h5 id="_dial_number_options">dial(number, [options])</h5>
<div class="paragraph">
<p>Dial a phone number or a SIP URI</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>number <code>String</code> &#8201;&#8212;&#8201;Both a phone number and a SIP URI can be used in this field.  Use a full international phone number format ( E.164 ) including a +(plus) sign, country calling code, local area code and local phone number. For example, a US based number (617) 345-6789 will need to be entered as +16173456789.  Use the following format for SIP URI:  sip:name@domain.</p>
</div>
<div class="paragraph">
<p>options <code>Object</code> <em>Optional</em></p>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>source <em>Optional</em>&#8201;&#8212;&#8201;A phone number to present as Caller ID to the callee. If not specified, a default Clique phone number will be presented.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientCall</span><span class="tok-p">.</span><span class="tok-nx">dial</span><span class="tok-p">(</span><span class="tok-s1">&#39;+12345678901&#39;</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-nx">source</span><span class="tok-o">:</span> <span class="tok-s1">&#39;+19876543210&#39;</span> <span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_hangup">hangup()</h5>
<div class="paragraph">
<p>Hang up the call</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientCall</span><span class="tok-p">.</span><span class="tok-nx">hangup</span><span class="tok-p">();</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_user_methods">User methods</h4>
<div class="sect4">
<h5 id="_updateconferencesettings_options">updateConferenceSettings(options)</h5>
<div class="paragraph">
<p>Updates the current user settings. These settings will be used by default for all conferences created by this user. It is assumed the user persistence is maintained by the client application storing and reusing the original user token for every subsequent conference call</p>
</div>
<div class="paragraph">
<p><em>Parameters</em></p>
</div>
<div class="paragraph">
<p>options: <code>Object</code>  <em>Optional</em></p>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>wait_for_moderator <em>Optional</em> - If True, all wait on hold until the conference moderator joins</p>
</li>
<li>
<p>e1_joins_muted <em>Optional</em> -  If true, all join muted, can unmute themselves at any time</p>
</li>
<li>
<p>join_in_watch_mode <em>Optional</em> - If true, all join in Watch mode, can see who joined the conference already and join any time</p>
</li>
<li>
<p>music_on_hold <em>Optional</em> - If true, music on hold is played</p>
</li>
<li>
<p>assign_phone_number <em>Optional</em> - If true, a random, US locall number will be assigned to dial into the conferences</p>
</li>
<li>
<p>record_all_conferences <em>Optional</em> - If true, the conference recording will start once the first participant has joined</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code> will update <a href="#user-settings">[user-settings]</a> <code>Object</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">userClient</span>
    <span class="tok-p">.</span><span class="tok-nx">updateConferenceSettings</span><span class="tok-p">({</span>
        <span class="tok-nx">wait_for_moderator</span><span class="tok-o">:</span>     <span class="tok-kc">true</span><span class="tok-p">,</span>
        <span class="tok-nx">e1_joins_muted</span><span class="tok-o">:</span>         <span class="tok-kc">false</span><span class="tok-p">,</span>
        <span class="tok-nx">join_in_watch_mode</span><span class="tok-o">:</span>     <span class="tok-kc">false</span><span class="tok-p">,</span>
        <span class="tok-nx">music_on_hold</span><span class="tok-o">:</span>          <span class="tok-kc">true</span><span class="tok-p">,</span>
        <span class="tok-nx">assign_phone_number</span><span class="tok-o">:</span>    <span class="tok-kc">false</span><span class="tok-p">,</span>
        <span class="tok-nx">record_all_conferences</span><span class="tok-o">:</span> <span class="tok-kc">false</span>
    <span class="tok-p">})</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">settings</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">settings</span><span class="tok-p">);</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occurred</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_getconferencesettings">getConferenceSettings()</h5>
<div class="paragraph">
<p>Gets the current user conference settings</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code> will update <a href="#user-settings">[user-settings]</a> <code>Object</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">userClient</span>
    <span class="tok-p">.</span><span class="tok-nx">getConferenceSettings</span><span class="tok-p">()</span>
    <span class="tok-p">.</span><span class="tok-nx">then</span><span class="tok-p">(</span>
        <span class="tok-p">(</span><span class="tok-nx">settings</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">settings</span><span class="tok-p">);</span>
        <span class="tok-p">},</span>
        <span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
            <span class="tok-c1">// error occurred</span>
            <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">code</span><span class="tok-p">,</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">.</span><span class="tok-nx">desc</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_chat_methods">Chat methods</h4>
<div class="sect4">
<h5 id="_create_options_2">create([options])</h5>
<div class="paragraph">
<p>Create new chat</p>
</div>
<div class="paragraph">
<p>options <code>Object</code> <em>Optional</em></p>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>allowed_user_uuids <code>Array</code> <em>Optional</em>&#8201;&#8212;&#8201;List of users UUIDs that have access to the chat. If not specified, any user can join the chat.</p>
</li>
<li>
<p>creator_uuid <code>String</code> <em>Optional</em>&#8201;&#8212;&#8201;Unique user identifier (UUID) of the chat creator.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">({</span>
    <span class="tok-nx">allowed_user_uuids</span><span class="tok-o">:</span> <span class="tok-p">[</span><span class="tok-s1">&#39;986ba3c6-09ba-11e8-9a46-433c2a35ca01&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;136ba3c6-09ba-11e8-9a46-433c2a35cae6&#39;</span><span class="tok-p">],</span>
    <span class="tok-nx">creator_uuid</span><span class="tok-o">:</span> <span class="tok-s1">&#39;136ba3c6-09ba-11e8-9a46-433c2a35cae6&#39;</span><span class="tok-p">,</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_join_chat_id">join(chat_id)</h5>
<div class="paragraph">
<p>Join chat</p>
</div>
<div class="paragraph">
<p>chat_id <code>String</code>&#8201;&#8212;&#8201;Unique chat identifier.</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">join</span><span class="tok-p">(</span><span class="tok-s1">&#39;581ba3c6-09ba-11e8-9a46-433c2caea356&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_leave_chat_id">leave(chat_id)</h5>
<div class="paragraph">
<p>Leave chat</p>
</div>
<div class="paragraph">
<p>chat_id <code>String</code>&#8201;&#8212;&#8201;Unique chat identifier.</p>
</div>
<div class="paragraph">
<p><em>Returns</em></p>
</div>
<div class="paragraph">
<p><code>Promise</code></p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">leave</span><span class="tok-p">(</span><span class="tok-s1">&#39;581ba3c6-09ba-11e8-9a46-433c2caea356&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_send_chat_id_message">send(chat_id, message)</h5>
<div class="paragraph">
<p>Send message to chat room</p>
</div>
<div class="paragraph">
<p>chat_id <code>String</code>&#8201;&#8212;&#8201;Unique chat identifier.
message <code>String</code>&#8201;&#8212;&#8201;Message to be sent to the chat room.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">send</span><span class="tok-p">(</span><span class="tok-s1">&#39;581ba3c6-09ba-11e8-9a46-433c2caea356&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Hello world&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_fetchmessagehistory_chat_id_options">fetchMessageHistory(chat_id, [options])</h5>
<div class="paragraph">
<p>Fetch chat messages. By default 50 (or less) oldest messages will be fetched at time.
If there are more messages in the chat room, repeat calls of this method will bring the next, newer 50 messages, etc.</p>
</div>
<div class="paragraph">
<p>chat_id <code>String</code>&#8201;&#8212;&#8201;Unique chat identifier.
options <code>Object</code> <em>Optional</em></p>
</div>
<div class="paragraph">
<p>Available options:</p>
</div>
<div class="paragraph">
<p>from <code>Number</code>&#8201;&#8212;&#8201;Number of messages to be fetched at a time. By default 50 messages will be fetched at time.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">fetchMessageHistory</span><span class="tok-p">(</span><span class="tok-s1">&#39;581ba3c6-09ba-11e8-9a46-433c2caea356&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_markmessagesasread_chat_id">markMessagesAsRead(chat_id)</h5>
<div class="paragraph">
<p>Mark all unread messages in the chat room as read.</p>
</div>
<div class="paragraph">
<p>chat_id <code>String</code>&#8201;&#8212;&#8201;Unique chat identifier.</p>
</div>
<div class="paragraph">
<p><em>Example</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientChat</span><span class="tok-p">.</span><span class="tok-nx">markMessagesAsRead</span><span class="tok-p">(</span><span class="tok-s1">&#39;581ba3c6-09ba-11e8-9a46-433c2caea356&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;2018-06-28T19:36:41.142Z&#39;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_event_handling">Event handling</h3>
<div class="sect3">
<h4 id="_conference_events">Conference events</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;add-member&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;new user joined with uuid = &#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">);</span> <span class="tok-c1">// id of a new conference participant</span>
<span class="tok-p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following events are available for you at the Conference object:</p>
</div>
<div class="paragraph">
<p>Each event handler receives an event <code>Object</code> with the fields described:</p>
</div>
<div class="ulist">
<div class="title">Event list</div>
<ul>
<li>
<p>add-member { user: <code>Object</code>, is_moderator: <code>Boolean</code> }&#8201;&#8212;&#8201;user joined the conference</p>
<div class="paragraph">
<p>user is an object: { uuid: <code>String</code>, meta: <code>Object</code>}</p>
</div>
<div class="paragraph">
<p>is_moderator - will be true if the conference moderator joined the call</p>
</div>
<div class="paragraph">
<p>When the add-member event is received as a result of an inbound or an outbound phone call, user.meta object would contain the following information about the call:</p>
</div>
<div class="paragraph">
<p>user.meta: { number: <code>String</code>, direction: <code>String</code>, invited_by_uuid: <code>String</code> }</p>
</div>
<div class="paragraph">
<p>invited_by_uuid&#8201;&#8212;&#8201;user uuid that made an invitation API request. Available for outbound calls only.</p>
</div>
<div class="paragraph">
<p>You can also use meta field to store and receive custom data when creating new users via REST API calls</p>
</div>
</li>
<li>
<p>del-member { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid left the conference</p>
</li>
<li>
<p>start-talking { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid started talking</p>
</li>
<li>
<p>stop-talking { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid stopped talking</p>
</li>
<li>
<p>mute-member { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid has been muted</p>
</li>
<li>
<p>unmute-member { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid has been unmuted</p>
</li>
<li>
<p>lock {} - conference has been locked by the moderator</p>
</li>
<li>
<p>unlock {} - conference has been unlocked by the moderator</p>
</li>
<li>
<p>kick-member { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid has been kicked out of the conference</p>
</li>
<li>
<p>conference-create { conference_session_id: <code>String</code> }&#8201;&#8212;&#8201;a new conference has been created</p>
</li>
<li>
<p>conference-destroy { conference_session_id: <code>String</code> }&#8201;&#8212;&#8201;conference destroyed</p>
</li>
<li>
<p>call-status { uuid: <code>String</code>, status: <code>String</code> }&#8201;&#8212;&#8201;call status changed</p>
<div class="paragraph">
<p>status: the call status may contain ('early' | 'active' | 'ringing' | 'dialing' | 'answered' | 'hangup')</p>
</div>
</li>
<li>
<p>setgrace {}&#8201;&#8212;&#8201;conference grace period time delay has been changed</p>
</li>
<li>
<p>start-recording { recordingID: <code>String</code> }&#8201;&#8212;&#8201;conference recording started</p>
<div class="paragraph">
<p>recordingID: you can use this ID to access recording object via the Clique RESTful API</p>
</div>
</li>
<li>
<p>stop-recording { recordingID: <code>String</code> }&#8201;&#8212;&#8201;conference recording stopped</p>
<div class="paragraph">
<p>recordingID: you can use this ID to access recording object via REST API</p>
</div>
</li>
<li>
<p>recording-completed { recordingID: <code>String</code>, url: <code>String</code> }&#8201;&#8212;&#8201;conference recording completed</p>
<div class="paragraph">
<p>recordingID: you can use this ID to access recording object via the Clique RESTful API</p>
</div>
<div class="paragraph">
<p>url: the URL of the conference recording mp3 file; this is a public link and it will expire in 1 hour</p>
</div>
</li>
<li>
<p>screen-share-start { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid starts sharing her/his screen</p>
</li>
<li>
<p>screen-share-stop { uuid: <code>String</code> }&#8201;&#8212;&#8201;user with the given uuid stops sharing her/his screen</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_simplecall_events">SimpleCall events</h4>
<div class="paragraph">
<p>The following events are available with the SimpleCall object:</p>
</div>
<div class="ulist">
<div class="title">Event list</div>
<ul>
<li>
<p>call-active&#8201;&#8212;&#8201;triggered when the call changed its state to "active", i.e. the connection is established</p>
</li>
<li>
<p>call-answer&#8201;&#8212;&#8201;triggered when the callee answers</p>
</li>
<li>
<p>call-hangup&#8201;&#8212;&#8201;triggered when the call ends</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_chat_events">Chat events</h4>
<div class="paragraph">
<p>The following events are available with the Chat object:
.Event list
- message { uuid: <code>String</code>, message: <code>String</code>, chat_id: <code>String</code> }&#8201;&#8212;&#8201;new message sent by user with user ID = uuid to the chat
- message-history { uuid: <code>String</code>, messages: <code>Array</code>, chat_id: <code>String</code>, total: <code>Integer</code> }&#8201;&#8212;&#8201;list of chat messages returned in resposne to the fetchChatMessages method call;  param total: total number of messages in the chat
- subscribe { uuid: <code>String</code>, chat_id: <code>String</code>, unread_message_count: <code>Integer</code> }&#8201;&#8212;&#8201;user with user ID = uuid joined the chat; param unread_message_count: the number of messages in the chat unread by user with user_id = uuid
- unsubscribe { uuid: <code>String</code>, chat_id: <code>String</code> }&#8201;&#8212;&#8201;user with user ID = uuid left the chat</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tutorial">Tutorial</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Conference-tutorial">Quickstart Conference</h3>
<div class="paragraph">
<p>This tutorial will show you how to build a sample conferencing application using Clique Client JS SDK.</p>
</div>
<div class="paragraph">
<p>For a quick start implementing a conferencing app, please follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, obtain an API key, BASE_URL from the Clique Support team.</p>
<div class="ulist">
<ul>
<li>
<p><strong><em>NOTE: Keep your API_KEY secure and never share it with 3rd parties</em></strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Set up the view template (public/index.html)</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">html</span> <span class="tok-na">lang</span><span class="tok-o">=</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">charset</span><span class="tok-o">=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">name</span><span class="tok-o">=</span><span class="tok-s">&quot;viewport&quot;</span> <span class="tok-na">content</span><span class="tok-o">=</span><span class="tok-s">&quot;width=, initial-scale=1.0&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">link</span> <span class="tok-na">rel</span><span class="tok-o">=</span><span class="tok-s">&quot;stylesheet&quot;</span> <span class="tok-na">href</span><span class="tok-o">=</span><span class="tok-s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>Clique Conferencing Demo<span class="tok-p">&lt;/</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
        <span class="tok-c">&lt;!-- Place your code here --&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">html</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Put this html markup into the public/index.html document:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;container&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;column&quot;</span> <span class="tok-na">style</span><span class="tok-o">=</span><span class="tok-s">&quot;display: flex; flex-direction: column; align-items: center;&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;col-sm-6 align-self-center text-center&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>Join Conference<span class="tok-p">&lt;/</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-primary&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;createConference&quot;</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span><span class="tok-p">&gt;</span>Create Conference!<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;mute&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-danger&quot;</span><span class="tok-p">&gt;</span>Mute<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;recording&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-danger&quot;</span><span class="tok-p">&gt;</span>Start Recording<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;hangup&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-danger&quot;</span><span class="tok-p">&gt;</span>Hangup<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;col-sm-6 align-self-center text-center&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>Your ID<span class="tok-p">&lt;/</span><span class="tok-nt">h2</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">p</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;id_profile&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">p</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>Member list<span class="tok-p">&lt;/</span><span class="tok-nt">h2</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">p</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;member_list&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">p</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>Recording file<span class="tok-p">&lt;/</span><span class="tok-nt">h2</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">p</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;recording_file&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">p</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add the following dependencies to the end of the public/index.html document:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-cp">&lt;! Clique Client JS SDK --&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;./components/clique-api-client-js/client.build.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-c">&lt;!-- App --&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;js/app.js&quot;</span> <span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Next step is to implement the client script handler in the public/js/app.js file</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
  <span class="tok-c1">// insert your code here</span>
<span class="tok-p">})();</span></code></pre>
</div>
</div>
</li>
<li>
<p>Set up some variables to define conference settings:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">let</span> <span class="tok-nx">conference</span><span class="tok-p">,</span> <span class="tok-nx">clientConference</span><span class="tok-p">,</span> <span class="tok-nx">mute</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">,</span> <span class="tok-nx">recording</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
<span class="tok-kr">const</span> <span class="tok-nx">BASE_URL</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&lt;BASE_URL&gt;&#39;</span><span class="tok-p">;</span>
<span class="tok-kr">const</span> <span class="tok-nx">API_KEY</span>  <span class="tok-o">=</span> <span class="tok-s1">&#39;&lt;API_KEY&gt;&#39;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Get Clique User Info</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">fetchData</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
    <span class="tok-nx">method</span><span class="tok-o">:</span>  <span class="tok-s1">&#39;POST&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">headers</span><span class="tok-o">:</span> <span class="tok-k">new</span> <span class="tok-nx">Headers</span><span class="tok-p">({</span>
        <span class="tok-s1">&#39;Authorization&#39;</span><span class="tok-o">:</span> <span class="tok-s1">&#39;Bearer &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">API_KEY</span>
    <span class="tok-p">}),</span>
    <span class="tok-nx">mode</span><span class="tok-o">:</span> <span class="tok-s1">&#39;cors&#39;</span>
<span class="tok-p">};</span>
<span class="tok-kr">const</span> <span class="tok-nx">data</span>    <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">fetch</span><span class="tok-p">(</span><span class="tok-nx">BASE_URL</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;/api/v2/users&#39;</span><span class="tok-p">,</span> <span class="tok-nx">fetchData</span><span class="tok-p">);</span>
<span class="tok-kr">const</span> <span class="tok-nx">userRes</span> <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">json</span><span class="tok-p">();</span>
<span class="tok-kr">const</span> <span class="tok-nx">user</span>    <span class="tok-o">=</span> <span class="tok-nx">userRes</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add some code to update elements on the page</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">id</span>      <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">getElementById</span><span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">);</span>
<span class="tok-kd">let</span> <span class="tok-nx">members</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

<span class="tok-kr">const</span> <span class="tok-nx">show_members</span> <span class="tok-o">=</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-kd">let</span> <span class="tok-nx">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span><span class="tok-p">;</span>
    <span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kr">const</span> <span class="tok-nx">uuid</span> <span class="tok-k">in</span> <span class="tok-nx">members</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-nx">s</span> <span class="tok-o">+=</span> <span class="tok-s1">&#39;&lt;li&gt;&#39;</span> <span class="tok-o">+</span> <span class="tok-nx">uuid</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
    <span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;member_list&#39;</span><span class="tok-p">).</span><span class="tok-nx">innerHTML</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&lt;ul&gt;&#39;</span> <span class="tok-o">+</span> <span class="tok-nx">s</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;&lt;/ul&gt;&#39;</span><span class="tok-p">;</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create an instance of Clique Client Conference API object</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">Conference</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-nx">BASE_URL</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">token</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>We are almost done. The next few steps will set up some event handlers</p>
<div class="ulist">
<ul>
<li>
<p>Determine the User ID</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;id_profile&#39;</span><span class="tok-p">).</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add createConference event handler</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;createConference&#39;</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
        <span class="tok-nx">conference</span> <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">();</span>
    <span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add handler to close the conference</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;hangup&#39;</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
        <span class="tok-nx">await</span> <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">leave</span><span class="tok-p">();</span>
        <span class="tok-nx">members</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
        <span class="tok-nx">show_members</span><span class="tok-p">();</span>
    <span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add handler to mute/unmute the microphone</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">elMute</span> <span class="tok-o">=</span> <span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;mute&#39;</span><span class="tok-p">);</span>
<span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-o">!</span><span class="tok-nx">mute</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localMute</span><span class="tok-p">();</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;unmute&#39;</span><span class="tok-p">;</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">remove</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-danger&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-success&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">mute</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-p">;</span>
    <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">localUnmute</span><span class="tok-p">();</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;mute&#39;</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">remove</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-success&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">elMute</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-danger&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">mute</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add handler to start/stop recording</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">elRecording</span> <span class="tok-o">=</span> <span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;recording&#39;</span><span class="tok-p">);</span>
<span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-o">!</span><span class="tok-nx">recording</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">recordingStart</span><span class="tok-p">({</span>
            <span class="tok-nx">callback_url</span><span class="tok-o">:</span> <span class="tok-s1">&#39;localost:3000/test&#39;</span><span class="tok-p">,</span> <span class="tok-c1">// HTTP POST webhook</span>
            <span class="tok-c1">// callback_url is optional, it will be invoked once the recording is completed, uploaded to the server and is available to access</span>
        <span class="tok-p">});</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Stop Recording&#39;</span><span class="tok-p">;</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">remove</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-danger&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-success&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">recording</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-p">;</span>
    <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">recordingStop</span><span class="tok-p">();</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Start Recording&#39;</span><span class="tok-p">;</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">remove</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-success&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">elRecording</span><span class="tok-p">.</span><span class="tok-nx">classList</span><span class="tok-p">.</span><span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-s1">&#39;btn-danger&#39;</span><span class="tok-p">);</span>
        <span class="tok-nx">recording</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add add-member, del-member events watch, triggered when someone joins or leaves the conference:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;add-member&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">members</span><span class="tok-p">[</span><span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">;</span>
    <span class="tok-nx">show_members</span><span class="tok-p">();</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;add-member&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">);</span>
<span class="tok-p">});</span>

<span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;del-member&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;del-member&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">);</span>
    <span class="tok-k">delete</span> <span class="tok-nx">members</span><span class="tok-p">[</span><span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">uuid</span><span class="tok-p">];</span>
    <span class="tok-nx">show_members</span><span class="tok-p">();</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add recording event watchers, triggered when conference recording has been started, stopped or completed and the recorded file is ready for download:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;start-recording&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;recording id&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">recordingID</span><span class="tok-p">);</span>
<span class="tok-p">});</span>

<span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;stop-recording&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;recording id&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">recordingID</span><span class="tok-p">);</span>
<span class="tok-p">});</span>

<span class="tok-nx">clientConference</span><span class="tok-p">.</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;recording-completed&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-nx">event</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;file ready to download&#39;</span><span class="tok-p">,</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">url</span><span class="tok-p">);</span>
    <span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;recording_file&#39;</span><span class="tok-p">).</span><span class="tok-nx">textContent</span> <span class="tok-o">=</span> <span class="tok-nx">event</span><span class="tok-p">.</span><span class="tok-nx">url</span><span class="tok-p">;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>We are done. You can now start your app, just open the index.html document in your browser.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="SimpleCall-tutorial">Quickstart SimpleCall</h3>
<div class="paragraph">
<p>For a quick start implementing a dialing app please follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, obtain an API key and the BASE URL from the Clique Support team.</p>
<div class="ulist">
<ul>
<li>
<p><code>Keep your API_KEY secure and never share it with 3rd parties</code></p>
</li>
<li>
<p>Set up the view template (public/index.html)</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">html</span> <span class="tok-na">lang</span><span class="tok-o">=</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">charset</span><span class="tok-o">=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">name</span><span class="tok-o">=</span><span class="tok-s">&quot;viewport&quot;</span> <span class="tok-na">content</span><span class="tok-o">=</span><span class="tok-s">&quot;width=, initial-scale=1.0&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">link</span> <span class="tok-na">rel</span><span class="tok-o">=</span><span class="tok-s">&quot;stylesheet&quot;</span> <span class="tok-na">href</span><span class="tok-o">=</span><span class="tok-s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>Clique Dialing Demo<span class="tok-p">&lt;/</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
        <span class="tok-c">&lt;!-- Place your code here --&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">html</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Put this html markup into the public/index.html document:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;container&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;column&quot;</span> <span class="tok-na">style</span><span class="tok-o">=</span><span class="tok-s">&quot;display: flex; flex-direction: column; align-items: center;&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;col-sm-6 align-self-center text-center&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>Dial Phone #<span class="tok-p">&lt;/</span><span class="tok-nt">h3</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;</span><span class="tok-nt">form</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;form-inline&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;form-group&quot;</span><span class="tok-p">&gt;</span>
                    <span class="tok-p">&lt;</span><span class="tok-nt">input</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;text&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;phoneNumber&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;form-control&quot;</span> <span class="tok-p">/&gt;</span>
                <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;dial&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-success&quot;</span><span class="tok-p">&gt;</span>Dial<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&lt;</span><span class="tok-nt">button</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;button&quot;</span> <span class="tok-na">id</span><span class="tok-o">=</span><span class="tok-s">&quot;hangup&quot;</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">&quot;btn btn-daner&quot;</span><span class="tok-p">&gt;</span>Hangup<span class="tok-p">&lt;/</span><span class="tok-nt">button</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&lt;/</span><span class="tok-nt">form</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add the following dependencies to the end of the public/index.html document:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-cp">&lt;! Clique Client JS SDK --&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;./components/clique-api-client-js/client.build.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-c">&lt;!-- App --&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;js/app.js&quot;</span> <span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Next step is to implement the client script handler in the public/js/app.js file</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
  <span class="tok-c1">// insert your code here</span>
<span class="tok-p">})();</span></code></pre>
</div>
</div>
</li>
<li>
<p>Set up some variables to define dial settings:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">let</span> <span class="tok-nx">clientCall</span><span class="tok-p">,</span> <span class="tok-nx">mute</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
<span class="tok-kr">const</span> <span class="tok-nx">BASE_URL</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&lt;BASE_URL&gt;&#39;</span><span class="tok-p">;</span>
<span class="tok-kr">const</span> <span class="tok-nx">API_KEY</span>  <span class="tok-o">=</span> <span class="tok-s1">&#39;&lt;API_KEY&gt;&#39;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Get Clique User object</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">fetchData</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
    <span class="tok-nx">method</span><span class="tok-o">:</span> <span class="tok-s1">&#39;POST&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">headers</span><span class="tok-o">:</span> <span class="tok-k">new</span> <span class="tok-nx">Headers</span><span class="tok-p">({</span>
        <span class="tok-s1">&#39;Authorization&#39;</span><span class="tok-o">:</span> <span class="tok-s1">&#39;Bearer &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">API_KEY</span>
    <span class="tok-p">}),</span>
    <span class="tok-nx">mode</span><span class="tok-o">:</span> <span class="tok-s1">&#39;cors&#39;</span>
<span class="tok-p">};</span>
<span class="tok-kr">const</span> <span class="tok-nx">data</span>    <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">fetch</span><span class="tok-p">(</span><span class="tok-nx">BASE_URL</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;/api/v2/users&#39;</span><span class="tok-p">,</span> <span class="tok-nx">fetchData</span><span class="tok-p">);</span>
<span class="tok-kr">const</span> <span class="tok-nx">userRes</span> <span class="tok-o">=</span> <span class="tok-nx">await</span> <span class="tok-nx">data</span><span class="tok-p">.</span><span class="tok-nx">json</span><span class="tok-p">();</span>
<span class="tok-kr">const</span> <span class="tok-nx">user</span>    <span class="tok-o">=</span> <span class="tok-nx">userRes</span><span class="tok-p">.</span><span class="tok-nx">user</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add some code to update elements on the page</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kr">const</span> <span class="tok-nx">id</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">)</span> <span class="tok-p">=&gt;</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">getElementById</span><span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create an instance of the Clique SimpleCall API object</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">clientCall</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">CliqueClient</span><span class="tok-p">.</span><span class="tok-nx">SimpleCall</span><span class="tok-p">({</span>
    <span class="tok-nx">base_url</span><span class="tok-o">:</span>      <span class="tok-nx">BASE_URL</span><span class="tok-p">,</span>
    <span class="tok-nx">session_token</span><span class="tok-o">:</span> <span class="tok-nx">user</span><span class="tok-p">.</span><span class="tok-nx">token</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>We are almost done. Just need to set up some handlers</p>
<div class="ulist">
<ul>
<li>
<p>Add dial event handler</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;dial&#39;</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-nx">async</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
        <span class="tok-kr">const</span> <span class="tok-nx">number</span> <span class="tok-o">=</span> <span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;phoneNumber&#39;</span><span class="tok-p">).</span><span class="tok-nx">value</span><span class="tok-p">;</span>
        <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">number</span><span class="tok-p">)</span> <span class="tok-p">{</span>
            <span class="tok-nx">await</span> <span class="tok-nx">clientCall</span><span class="tok-p">.</span><span class="tok-nx">dial</span><span class="tok-p">(</span><span class="tok-nx">number</span><span class="tok-p">);</span>
        <span class="tok-p">}</span>
    <span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add handler to hangup</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">id</span><span class="tok-p">(</span><span class="tok-s1">&#39;hangup&#39;</span><span class="tok-p">)</span>
    <span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-p">()</span> <span class="tok-p">=&gt;</span> <span class="tok-p">{</span>
        <span class="tok-nx">clientCall</span><span class="tok-p">.</span><span class="tok-nx">hangup</span><span class="tok-p">()</span>
    <span class="tok-p">});</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>We are done. You can now start your app by opening the index.html document in your browser.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-07-24 14:34:37 MSK
</div>
</div>
</body>
</html>